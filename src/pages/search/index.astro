---
const query = Astro.url.searchParams.get("query");
import Layout from "../../layouts/Layout.astro";
import SearchQuery from "../../components/page-blocks/SearchQuery.astro";
---

<Layout>
  <!-- a search box and submit button -->
  <form method="GET" action="/search">
    <input
      type="text"
      name="query"
      placeholder="Search..."
      value={query ?? ""}
      required
    />
    <button type="submit">Search</button>
  </form>

  {query && <SearchQuery query={query} />}
</Layout>
